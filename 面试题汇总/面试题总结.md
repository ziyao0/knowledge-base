# 你问我答

1. HashMap和HashTable的区别？
    hashmap和hashtable都是用于实现键值对映射的数据结构，区别有：
    线程安全：hashtable是线程安全的，即使在多线程的环境下也可以安全使用。而hashmap是线程不安全的，需要在多线程环境下进行同步。hashtable是通过sync实现线程安全的
    性能：hashtable由于需要同步操作，所有性能上比hashmap差。在单线程环境下，hashmap通常比hashtable具有更好的性能。
    空值：hashtable是不允许见过这值为null的，而hashtable是允许的。
    继承关系：hashtable是dictionary的子类，hashmap是abstractmap的子类。
2. 为什么会产生死锁？
	死锁产生的原因是因为两个或多个线程无限期的等待对方释放资源，导致程序无法继续执行的情况。
	死锁通常发生在多线程环境中，当多个线程试图同时获得两个或多个共享资源的锁，并且获取的顺序不一致时，就可能产生死锁。当一个线程获得了一个锁，而另外一个线程试图获取相同的锁时，他就会阻塞，直到第一个线程释放锁。如果两个线程都在等待对方释放锁，就会无期限的等待下去，形成死锁。
	为了避免死锁的发生，应该尽量避免在一个线程持有锁的同时去等待另外一个锁，或者在一个线程等待锁时持有另外一个锁。此外还可以通过合理的锁定顺序，避免长时间持有锁，使用定时锁等方式来避免死锁的产生。
3. jvm类加载机制？
    jvm的类加载机制是指jvm在运行时将类加载到内存中的过程。jvm的类加载机制是按需加载、动态加载和基于委派的机制加载。
    按需加载：jvm的类加载是按需加载的，即再程序运行时才加载需要使用的类，当一个类别第一次使用时加载到内存当中，以后就不会再加载了。
    动态加载：jvm支持动态加载类，在程序运行时可以通过class.forName()等反射机制动态加载类。
    基于委派的机制：jvm的类加载机制是基于委派的机制，当一个类需要被加载时，jvm首先会查找类加载器中是否已经加载了该类，如果已经加载则直接返回该类的class对象，否则就会将该类的加载请求委托给父类加载器，如果父类加载器没办法加载该类，则由当前类加载器进行加载。
    jvm类加载机制可以分为三个步骤：加载、链接和初始化。
        加载：是将类文件中的字节码读入内存中，并创建一个代表该类的class对象，
        链接：是将二进制代码合并到jvm的运行状态中，
        初始化：是对类进行初始化，包括静态变量初始化，静态代码块执行等。
4. jvm内存模型？
    java虚拟机由三部分组成，类装在子系统，运行时数据区，字节码执行引擎。
    类装载子系统： 负责把字节码文件加载到运行时数据区。
    运行时数据区（内存模型）：
        程序计数器：程序技术区是一块较小的内存区域，它的作用是记录jvm当前线程所执行的字节码指令地址。当jvm执行java方法时，程序计数器记录当前线程执行的位置，当前线程执行完成后，计数器自动清零；
        java虚拟机栈：用于存储java方法执行过程中的局部变量表、操作数栈、方法出口等，每个线程执行java方法时都会创建一个对应的栈帧，并将栈帧压入线程栈中，当线程执行完毕后，栈帧将被弹出并销毁；
        本地方法栈：
        堆内存：
        方法区：
        运行时常量池：
5. 垃圾回收机制？

6. 项目中如何查看垃圾回收？

7. java反射获取私有属性，改变属性值？

8. 反射用途？

9. 会什么算法？

10. 数据库乐观锁使用？

11. 状态机
12. 如何解决状态机不对的问题？

13. 如何分库分表？

14. mysql极限？

15. HashMap源码？

16. 设计一个线程安全的HashMap？

17. ConcurrentHashMap底层原理？

18. 手写一个lru（用linkedHashMap）
19. jdk1.8中的HashMap为什么用红黑树不用普通的avl树？

20. 为什么在8的时候链表变成红黑树？

21. 为什么在6的时候从树退回链表？

22. 线程池7个参数，该怎么配置最好？

23. 说一下volatile？

24. volatile的可见性和禁止指令重排是怎么实现的？

25. synchronized关键字的用法？

26. synchronized修饰方法和普通方法锁区别？
获取类锁之后还能获取对象锁吗？

27. CAS是什么？
priorityQueue底层时什么？
初始容量是多少？
扩容方式？

28. 若原始大小<64，则扩容为原理啊的2倍+2，不然扩容为原来的1.5倍
29. HashMap的容量为什么要设置为2的次幂？

30. HashMap在大量的哈希冲突该怎么处理？

31. 你知道跳表吗？
什么场景会用到跳表？

32. CopyOnWriteArrayList知道吗？
迭代器支持fail-fast吗？

33. innodb的底层数据结构？

34. 为什么用B+树而不用B树？

35. 为什么用B+树而不用红黑树？

36. 数据库的隔离界别和解决的问题？

37. 数据库默认的隔离级别？一定会产生幻读吗？怎么解决？

38. 快排的实现，时间复杂度和空间复杂度？

39. 如何把项目变成SOA架构？

40. spring源码，最深刻的模块，aop的用途？

41. spring的aop实现？

42. 浏览器输入网址过程，结合springmvc？

43. 介绍redis？

44. 如何将数据分布在不同的redis中？

45. 字节码结构？

46. 负载均衡的算法？

47. 如何查看系统的负载？

48. 对netty的了解？

49. 谈谈中间件？

50. 对zookeeper的理解？以及ZAB协议？
